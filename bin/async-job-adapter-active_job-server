#!/usr/bin/env async-service

require 'async/job/adapter/active_job/environment'

service "async-job-server" do
	include Async::Job::Adapter::ActiveJob::Environment
	
	root {ENV.fetch('RAILS_ROOT', Dir.pwd)}
	
	# If you have multiple queues, you may want to run a separate server for each queue.
	queue_name ENV.fetch('ASYNC_JOB_ADAPTER_ACTIVE_JOB_QUEUE_NAME', 'default')
end
